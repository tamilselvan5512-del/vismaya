<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>â¤ï¸ Valentine Trap â¤ï¸</title>

<style>
body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#ff6a88,#ff99ac);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Segoe UI',sans-serif;
  overflow:hidden;
}

.card{
  background:#fff;
  width:90%;
  max-width:360px;
  padding:25px;
  border-radius:22px;
  text-align:center;
  box-shadow:0 15px 30px rgba(0,0,0,.3);
}

h2{color:#ff3f6c}
p{font-size:18px; white-space:pre-line}

.buttons{
  margin-top:20px;
  position:relative;
  height:150px;
}

button{
  padding:14px 20px;
  font-size:16px;
  border-radius:14px;
  border:none;
  cursor:pointer;
  transition:all .25s ease;
}

#yes{
  background:#ff3f6c;
  color:#fff;
}

#no{
  background:#ddd;
  position:absolute;
  left:50%;
  transform:translateX(-50%);
}

.heart{
  font-size:50px;
  animation:float 1.5s infinite;
}

@keyframes float{
  0%{transform:translateY(0)}
  50%{transform:translateY(-15px)}
  100%{transform:translateY(0)}
}

.hug{
  font-size:70px;
  animation:pop 1s infinite alternate;
}

@keyframes pop{
  from{transform:scale(1)}
  to{transform:scale(1.15)}
}
</style>
</head>

<body>

<div class="card" id="card">
  <h2 id="title">â¤ï¸ Hey You â¤ï¸</h2>
  <p id="text">Do you love me? ğŸ˜˜</p>

  <div class="buttons" id="btnArea">
    <button id="yes" onclick="yesClick()">Yes â¤ï¸</button>
    <button id="no" onclick="noClick()">No ğŸ˜œ</button>
  </div>
</div>

<script>
/* ================= NAME HANDLING ================= */
const params = new URLSearchParams(window.location.search);
let personName = "You";

if(params.has("name")){
  const n = params.get("name").trim().toLowerCase();
  if(n === "vismaya") personName = "Vismaya";
  else if(n === "akalya") personName = "Akalya";
  else if(n === "parvathi") personName = "Parvathi";
}

document.getElementById("title").innerText =
  "â¤ï¸ Hey " + personName + " â¤ï¸";

/* ================= GAME STATE ================= */
let noCount = 0;
let yesScale = 1;
let firstYesDone = false;

/* ================= NO CLICK ================= */
function noClick(){
  noCount++;

  const no = document.getElementById("no");
  const yes = document.getElementById("yes");
  const area = document.getElementById("btnArea");

  yesScale += 0.2;
  yes.style.transform = `scale(${yesScale})`;

  if(noCount === 1){
    moveNo(area,no);
    no.innerText = "Poi soladha ğŸ˜œ";
  }
  else if(noCount === 2){
    no.innerText = "Na innum konjam wait pananum pola ğŸ¥º";
  }
  else if(noCount === 3){
    no.innerText = "Podhum appuram na kasta paduva pathuko ğŸ˜…";
  }
  else{
    no.innerText =
      "Podhum " + personName +
      " ğŸ˜ˆ YES click pannama escape illa ğŸ’–";
  }
}

function moveNo(area,no){
  const maxX = area.clientWidth - no.offsetWidth;
  const maxY = area.clientHeight - no.offsetHeight;
  no.style.left = Math.random()*maxX + "px";
  no.style.top  = Math.random()*maxY + "px";
}

/* ================= YES CLICK ================= */
function yesClick(){
  const text = document.getElementById("text");

  if(!firstYesDone){
    firstYesDone = true;
    alert(
      "Perusa try panni No solla paakura ğŸ˜\n" +
      "Seri " + personName + ", 4 vaati No try pannu ğŸ˜œ"
    );
    return;
  }

  if(noCount < 4){
    text.innerText =
      personName + " ğŸ˜œ\nKonjam No button try pannalaam...\nApram Yes work aagum ğŸ’•";
    return;
  }

  document.getElementById("card").innerHTML = `
    <h2>ğŸ’– LOVE YOU ${personName} ğŸ’–</h2>
    <div class="heart">ğŸ’ ğŸ’“ ğŸ’•</div>
    <div class="hug">ğŸ«‚ğŸ’‘</div>
    <p>
      Happy Valentineâ€™s Day â¤ï¸\n\n
      ${personName},\n
      Nee dhaan en life-oda\n
      most beautiful surprise ğŸ˜\n\n
      Enoda ellaa smile-um,\n
      ellaa strength-um\n
      unnala dhaan ğŸ’\n\n
      I Love You Forever ğŸ˜˜
    </p>
  `;
}
</script>

</body>
</html>